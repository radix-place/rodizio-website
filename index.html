
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Rodizio Do Sul</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>

<!-- Navbar con hamburguesa -->
<nav class="navbar">
  <div class="logo">
    <img src="imagenes/logoLETRERO.svg" alt="Rodizio Do Sul Restaurante" />
  </div>

  <input type="checkbox" id="menu-toggle" class="menu-toggle">
  <label for="menu-toggle" class="hamburger">&#9776;</label>

  <ul class="nav-links">
    <li><a href="carta.html">Carta</a></li>
    <li><a href="#noticias">Noticias</a></li>
    <li><a href="#reservas">Reservas</a></li>
    <li><a href="#contacto">Contacto</a></li>
  </ul>
</nav>

  <!-- Hero -->


<section class="hero-completo">
  <div class="lado">
    <img src="imagenes/IZQUIERDA_R.png" alt="Bosque Izquierdo" />
  </div>

  <div class="centro-video">
    <video autoplay muted loop playsinline>
      <source src="videos/video_P.mp4" type="video/mp4" />
    </video>
    <div class="hero-texto">
      <h2>Do Sul Restaurante</h2>
      <h3>Rodizio y Bar</h3>
    </div>
  </div>

  <div class="lado">
    <img src="imagenes/DERECHA_R.png" alt="Bosque Derecho" />
  </div>
</section>

<!-- MODELA EMERGENTE CALOR - PROMOCIÓN -->

<!-- === MODAL EMERGENTE === -->
<div id="modal-promocion" class="modal" style="display: none;">
  <div class="modal-contenido">
    <span id="cerrar-modal" class="cerrar">&times;</span>

<!-- BLOQUE CLIMA CON FONDO -->
<div id="clima-info" class="clima-con-fondo">
  <div class="contenido-clima">
    <div id="temp-actual">--°C</div>
    <div id="sensacion-termica">Sensación: --°C</div>
    <div id="descripcion-clima">--</div>
    <div id="mensaje-promocional"></div>
  </div>
</div>

    <!-- MENSAJE CAMBIANTE -->
    <div id="mensaje-promocional"></div>

    <!-- BLOQUE HAMBURGUESA ALTERNATIVO -->
    <div id="promo-hamburguesa" style="display: none;">
      <img src="imagenes/H_JACK_R.jpg" alt="Hamburguesa Jack Daniels Doble" style="width: 100%; border-radius: 12px; margin-bottom: 1rem;">
      <div style="font-size: 1.1rem;">
        ¡Descubre nuestra nueva <strong>Hamburguesa Jack Daniels Doble</strong>!<br>
        Una explosión de sabor con doble carne, queso fundido y nuestra salsa especial
      </div>
    </div>
  </div>
</div>


<!-- SCRIPT MODAL -->


<script>
document.addEventListener("DOMContentLoaded", () => {
  const apiKey = "aff3683756ae45c8869132830250106";
  const ciudad = "Cali";
  const url = `https://api.weatherapi.com/v1/current.json?key=${apiKey}&q=${ciudad}&lang=es`;

  const modal = document.getElementById("modal-promocion");
  const cerrar = document.getElementById("cerrar-modal");

  const mensaje = document.getElementById("mensaje-promocional");
  const promo = document.getElementById("promo-hamburguesa");
  const clima = document.getElementById("clima-info");

  const tempActual = document.getElementById("temp-actual");
  const sensacion = document.getElementById("sensacion-termica");
  const descripcion = document.getElementById("descripcion-clima");
  const icono = document.getElementById("icono-clima");

  fetch(url)
    .then(response => response.json())
    .then(data => {
      if (!data || !data.current || !("temp_c" in data.current)) {
        throw new Error("Respuesta inválida de WeatherAPI");
      }

      const temp = Math.round(data.current.temp_c);
      const feelsLike = Math.round(data.current.feelslike_c);
      const desc = data.current.condition.text;
      const code = data.current.condition.code;

      // Asignar fondo decorativo según el código del clima
      if ([1000].includes(code)) {
        clima.style.backgroundImage = "url('imagenes/1.png')"; // Soleado
      } else if ([1003, 1006].includes(code)) {
        clima.style.backgroundImage = "url('imagenes/2.png')"; // Soleado con nubes / Nublado
      } else if ([1180, 1183, 1186, 1189, 1192, 1195, 1240, 1243, 1246].includes(code)) {
        clima.style.backgroundImage = "url('imagenes/3.png')"; // Lluvioso
      } else {
        clima.style.backgroundImage = "url('imagenes/2.png')"; // Default nublado
      }

      tempActual.textContent = `${temp}°C`;
      sensacion.textContent = `Sensación: ${feelsLike}°C`;
      descripcion.textContent = desc;

      // Mostrar primera parte del modal
      clima.style.display = "flex";
      mensaje.style.display = "block";
      promo.style.display = "none";
      modal.style.display = "flex";

      // Mensaje 1: bebida
      let mensaje1 = temp > 29
        ? "¡Hace calor!, ¿por qué no te tomas unas Sangría Espumosa?"
        : " Hoy el clima está ideal para un jugoso corte de carne y un buen vino";

      mensaje.textContent = mensaje1;

      // A los 4s: ocultar clima y mostrar hamburguesa
      setTimeout(() => {
        clima.style.display = "none";
        mensaje.style.display = "none";
        promo.style.display = "block";
      }, 6000);

     /* setTimeout(() => {
        modal.style.display = "none";
      }, 8000); */
    })
    .catch(error => {
      console.error("Error al obtener clima. Mostrando hamburguesa:", error);
      clima.style.display = "none";
      mensaje.style.display = "none";
      promo.style.display = "block";
      modal.style.display = "flex";

      /*setTimeout(() => {
        modal.style.display = "none";
      }, 8000); */
    });

  cerrar.addEventListener("click", () => {
    modal.style.display = "none";
  });
});
</script>



<!-- CERRANDO MODAL EMERGENTE -->

<section class="promo-galeria">
  <h2 id="titulo-dinamico">Descubre el mejor sabor de la ciudad</h2>
  <p id="parrafo-dinamico">
    Déjate seducir por aromas intensos, texturas perfectas y cortes que se deshacen en tu boca.
  </p>

  <div class="galeria-grid">
    <img src="imagenes/churrasco.jpg" alt="Corte especial rodizio" />
    <img src="imagenes/LANGOSTA.jpg" alt="Costilla a la parrilla" />
    <img src="imagenes/fotoA.jpg" alt="Postre artesanal" />
    <img src="imagenes/picada.jpg" alt="Buffet de ensaladas" />
    <img src="imagenes/seviche.jpg" alt="Filete jugoso" />
    <img src="imagenes/coctelD.jpg" alt="Bebidas refrescantes" />
  </div>
</section>


<section class="seccion-contacto" id="contacto">
  <h2>Contáctanos</h2>
  <p>Estamos ubicados en el norte de Cali. Escríbenos o visítanos cuando quieras.</p>

  <div class="contacto-datos">
    <p><strong>Dirección:</strong> Av 6D Nte. #36N - 18</p>
    <p><strong>Email:</strong> <a href="mailto:rodiziodosulrestaurante@gmail.com">rodiziodosulrestaurante@gmail.com</a></p>
    <p><strong>Teléfono:</strong> <a href="tel:+573159267529">315 926 7529</a></p>
  </div>
</section>


<section class="seccion-mapa">
  <h2>Encuéntranos</h2>
  <p class="direccion-contacto">Av 6D Nte. # 36N - 18 · Cali, Colombia</p>
  <div class="mapa-container">
    <iframe
      src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3976.649639093056!2d-76.52681862421998!3d3.457403552477094!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8e30a6df18a7f243%3A0x40185c626f1392d8!2sAv.%206D%20Nte.%20%2336n-18%2C%20Cali%2C%20Valle%20del%20Cauca!5e0!3m2!1ses!2sco!4v1716926500000!5m2!1ses!2sco"
      width="100%" height="200" style="border:0;" allowfullscreen="" loading="lazy"
      referrerpolicy="no-referrer-when-downgrade">
    </iframe>
  </div>
</section>

</body>

<!-- FORMULARIO DE PONDERACIÓN -->

<!-- === ESTILOS BÁSICOS === -->
<style>
  .centro {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    margin-top: 2rem;
    padding: 1rem;
  }
  select, textarea, button {
    margin: 0.5rem 0;
    padding: 0.7rem;
    font-size: 1rem;
    width: 100%;
    max-width: 400px;
    border-radius: 6px;
    border: 1px solid #ccc;
  }
  button.enviar {
    background-color: #d4af37;
    color: black;
    font-weight: bold;
    border: none;
  }
  .estrella {
    font-size: 2rem;
    cursor: pointer;
    color: #ccc;
  }
  .estrella.activa {
    color: #f5b301;
  }
  .modal {
    display: none;
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color: rgba(0,0,0,0.6);
  }
  .modal-content {
    background-color: #fff;
    margin: 10% auto;
    padding: 20px;
    border-radius: 10px;
    width: 90%;
    max-width: 500px;
    color: #000;
  }
  .close {
    color: #aaa;
    float: right;
    font-size: 28px;
    font-weight: bold;
    cursor: pointer;
  }
  .close:hover {
    color: black;
  }

  .boton-flotante {
  position: fixed;
  bottom: 20px;
  right: 20px;
  background-color: #d4af37;
  color: black;
  font-size: 0.85rem;
  border: none;
  border-radius: 10px;
  font-weight: bold;
  cursor: pointer;
  box-shadow: 0 2px 8px rgba(0,0,0,0.3);
  z-index: 1001;
  padding: 0.5rem 1rem;
  display: flex;
  align-items: center;
  justify-content: center;
  max-width: 250px;
  white-space: nowrap;
}


</style>

<!-- === BOTÓN FLOTANTE === -->
<button class="boton-flotante" onclick="mostrarModal()">⭐ Califica tu experiencia</button>


<!-- === MODAL DE CALIFICACIÓN === -->
<div id="modalFormulario" class="modal">
  <div class="modal-content">
    <span class="close" onclick="cerrarModal()">&times;</span>
    <select id="categoria" onchange="cargarSubcategorias()">
      <option value="">Selecciona una categoría</option>
      <option value="Platos">Platos</option>
      <option value="Cocteles">Cocteles</option>
      <option value="Bebidas">Bebidas</option>
      <option value="Postres">Postres</option>
    </select>

    <select id="subcategoria" onchange="cargarItems()">
      <option value="">Selecciona una subcategoría</option>
    </select>

    <select id="item" onchange="mostrarCalificacion()">
      <option value="">Selecciona un ítem</option>
    </select>

    <div id="calificacion" style="margin-top: 1rem;"></div>
    <textarea id="comentario" rows="3" placeholder="Comentario (opcional)"></textarea>
    <button class="enviar" onclick="enviarFormulario()">Enviar</button>
  </div>
</div>

<!-- === SCRIPT INTERACTIVO === -->
<script>
  const menu = {
    "Platos": ["Carne", "Pasta", "Pollo", "Mariscos / Pescado", "Fast food"],
    "Cocteles": ["Coctel"],
    "Bebidas": ["Jugos", "Sodas"],
    "Postres": ["Postre"]
  };

  const items = {
    "Carne": ["Rodizio", "Rodizio Premium", "Picanha (300g)", "Picanha (400g)",  
        "New York Steak", "Rib Eye", "Morillo", "Churrasco", "Baby Beef", 
        "Lomo en Salsa de trufa Negra" , "Filet Mignon"],
    "Pasta": ["Pasta Fruto del Mar", "Pasta de Trufa (Pollo)", "Pasta de Trufa (Carne)"],
    "Pollo": ["File de Frango"],
    "Mariscos / Pescado": ["Ceviche de Pulpo", "Ceviche de Panceta", "Salmón a la Parrilla", "Salmón Fruto del Mar", "Langostinos Do Sul", "Langostinos al Ajillo"],
    "Fast food": ["Hamburguesa Clásica", "Hamburguesa Jack Daniels",  "Hamburguesa Jack Daniels Doble"],
    "Coctel": ["Burbujeante de Cereza", "Amargor de Vodka", "Caricia Añeja", "Secreto de la Tierra", "Brisa Tequilera", 
        "Arrechera", "Guarito Sour", "La Verde", "Mar Morado", "White Anis Negroni", "Mint Julep", "Paloma", "Mojito Clásico", 
        "Caipiroska", "Negroni", "Aperol Spritz", "Campari Spritz", "French 75", "Mimosa", "Caipiriña", "Black Russian", 
        "White Russian", "Orgasmo Múltiple", "El Padrino", "La Madrina", "Mojito Fresa", "Mojito Maracuyá", "Mojito Agras", 
        "SAndría Espumosa (Copa)", "Sangría Espumosa (Jarra)", "Moscow Mule", "Mexican Mule", "Mezcal Mule", 
        "Mojito Ron viejo de Caldas", "Mojito La Hechicera", "Mojito Zapaca 23", "Sangría (COPA)", "Sangría (Media Jarra)", 
        "Sangría (Jarra)", "Samba (Copa)", "Samba (Media Jarra)", "Samba (Jarra)", "Negroni Clásico", "Negroni Mezcal", 
        "Negroni White", "Martini Tanqueray", "Martini Bombay", "Martini Hendrick's", "Martini Monkey 47", "Vodka Martini Absolut", 
        "Vordka Martini Lemon Drop", "Vodka Martini Grey Goose", "Whisky Sour", "Pisco Sour", "Amaretto Sour", "Tequila Sour", 
        "Vodka Sour", "Piña Colada Tradicional", "Piña Colada La Hechicera", "Piña Colada Zacapa 23"],
    "Jugos": ["Jugos en agua", "Jugos en leche", "Limonada Natural", "Limonada de coco", "Limonada de cereza", "Limonada de mango viche"],
    "Postre": ["Postre de Natas", "Esponjado de Maracuyá", "Bola de Helado", "Flan de Caramelo"],
    "Sodas" : ["Soda Italiana"]
  };

  let calificacionSeleccionada = 0;

  function mostrarModal() {
    document.getElementById("modalFormulario").style.display = "block";
  }

  function cerrarModal() {
    document.getElementById("modalFormulario").style.display = "none";
  }

  function cargarSubcategorias() {
    const cat = document.getElementById('categoria').value;
    const sub = document.getElementById('subcategoria');
    sub.innerHTML = '<option value="">Selecciona una subcategoría</option>';
    document.getElementById('item').innerHTML = '<option value="">Selecciona un ítem</option>';
    document.getElementById('calificacion').innerHTML = '';
    if (!cat || !menu[cat]) return;
    menu[cat].forEach(s => {
      const opt = document.createElement('option');
      opt.value = s;
      opt.textContent = s;
      sub.appendChild(opt);
    });
  }

  function cargarItems() {
    const subcat = document.getElementById('subcategoria').value;
    const itm = document.getElementById('item');
    itm.innerHTML = '<option value="">Selecciona un ítem</option>';
    document.getElementById('calificacion').innerHTML = '';
    if (!subcat || !items[subcat]) return;
    items[subcat].forEach(i => {
      const opt = document.createElement('option');
      opt.value = i;
      opt.textContent = i;
      itm.appendChild(opt);
    });
  }

  function mostrarCalificacion() {
    const cont = document.getElementById('calificacion');
    cont.innerHTML = '<label>Calificación:</label><br>' +
      [1, 2, 3, 4, 5].map(n => `<span class='estrella' onclick='seleccionarCalificacion(${n})' id='estrella-${n}'>★</span>`).join('');
    actualizarEstrellas();
  }

  function seleccionarCalificacion(n) {
    calificacionSeleccionada = n;
    actualizarEstrellas();
  }

  function actualizarEstrellas() {
    for (let i = 1; i <= 5; i++) {
      const estrella = document.getElementById(`estrella-${i}`);
      if (estrella) {
        estrella.classList.toggle('activa', i <= calificacionSeleccionada);
      }
    }
  }


  <!-- FUNCION ENVIAR FORMULARIO -->


function enviarFormulario() {
  const categoria = document.getElementById('categoria').value;
  const subcategoria = document.getElementById('subcategoria').value;
  const nombre = document.getElementById('item').value;
  const comentario = document.getElementById('comentario').value;
  const calificacion = calificacionSeleccionada;

  if (!nombre || calificacion < 1) {
    alert('Por favor selecciona un ítem y una calificación.');
    return;
  }

  const formData = new FormData();
  formData.append("categoria", categoria);
  formData.append("subcategoria", subcategoria);
  formData.append("nombre", nombre);
  formData.append("calificacion", calificacion);
  formData.append("comentario", comentario);

  fetch("https://script.google.com/macros/s/AKfycbwxLQBpsoX5zkMyrDCqZFvbS7ZAT7Z01ySyN483CBqI1xxe0zT5MdTvPOMD00aA7SGi/exec", {
    method: "POST",
    body: formData
  })
  .then(response => response.json())
  .then(data => {
    if (data.status === "ok") {
      alert("✅ ¡Gracias por tu calificación!");
      cerrarModal();
    } else {
      alert("❌ Error al registrar: " + data.mensaje);
    }
  })
  .catch(error => {
    console.error("❌ Error al enviar:", error);
    alert("❌ No se pudo conectar con el servidor. Inténtalo más tarde.");
  });
}

</script>



<!-- FRASES-->

<script>
  const frases = [
    {
      titulo: "Descubre el mejor sabor de la ciudad",
      parrafo: "Déjate seducir por aromas intensos, texturas perfectas y cortes que se deshacen en tu boca."
    },
    {
      titulo: "Discover the finest flavor in town",
      parrafo: "Let yourself be seduced by rich aromas, perfect textures, and cuts that melt in your mouth."
    }
  ];

  let index = 0;
  const titulo = document.getElementById("titulo-dinamico");
  const parrafo = document.getElementById("parrafo-dinamico");

  setInterval(() => {
    index = (index + 1) % frases.length;

    titulo.style.opacity = 0;
    parrafo.style.opacity = 0;

    setTimeout(() => {
      titulo.textContent = frases[index].titulo;
      parrafo.textContent = frases[index].parrafo;
      titulo.style.opacity = 1;
      parrafo.style.opacity = 1;
    }, 700); // tiempo para el fade out
  }, 10000); // cada 10 segundos
</script>

</html>
